{"version":3,"sources":["images/essentials_1400x.jpg","components/pages/ProductList/ProductList.js"],"names":["module","exports","ProductList","productSortRef","React","createRef","handleSortPosition","bind","window","addEventListener","this","distanceFromTop","current","getClientRects","top","props","getSortDistance","removeEventListener","clearSort","currentProducts","sortedProducts","length","map","product","key","id","image","name","price","products","openSort","className","style","backgroundImage","productListHeader","ref","onClick","renderProducts","Component","connect","state","sortTab","sort"],"mappings":"0FAAAA,EAAOC,QAAU,IAA0B,8C,6ICOrCC,E,YACJ,aAAe,IAAD,8BACZ,+CACKC,eAAiBC,IAAMC,YAC5B,EAAKC,mBAAqB,EAAKA,mBAAmBC,KAAxB,gBAHd,E,iFAOZC,OAAOC,iBAAiB,SAAUC,KAAKJ,oBACvC,IAAIK,EAAkBD,KAAKP,eAAeS,QAAQC,iBAAiB,GAAGC,IACtEJ,KAAKK,MAAMC,gBAAgBL,K,6CAI3BH,OAAOS,oBAAoB,SAAUP,KAAKJ,oBAC1CI,KAAKK,MAAMG,c,2CAIX,IAAIP,EAAkBD,KAAKP,eAAeS,QAAQC,iBAAiB,GAAGC,IACtEJ,KAAKK,MAAMC,gBAAgBL,K,qCAGbQ,EAAiBC,GAQ/B,OANIA,EAAeC,OAAS,EACPD,EAEAD,GAGGG,KAAI,SAAAC,GAC1B,OACE,kBAAC,IAAD,CACEC,IAAKD,EAAQE,GACbA,GAAIF,EAAQE,GACZC,MAAOH,EAAQG,MACfC,KAAMJ,EAAQI,KACdC,MAAOL,EAAQK,a,+BAMb,IAAD,EACwClB,KAAKK,MAA5Cc,EADD,EACCA,SAAUC,EADX,EACWA,SAAUV,EADrB,EACqBA,eAE5B,OACE,6BAASW,UAAU,eAEjB,4BAAQA,UAAU,sBAAsBC,MAAO,CAACC,gBAAgB,OAAD,OAASC,IAAT,OAC7D,wBAAIH,UAAU,cAAd,aAGF,yBAAKA,UAAU,oBAAoBI,IAAKzB,KAAKP,gBAC3C,4BAAQiC,QAAS,kBAAMN,KAAYC,UAAU,4BAA7C,OAEE,uBAAGA,UAAU,0BAIjB,yBAAKA,UAAU,2BACZrB,KAAK2B,eAAeR,EAAUT,S,GA9DfkB,aA+EXC,uBARS,SAACC,GACvB,MAAO,CACLX,SAAUW,EAAMX,SAChBY,QAASD,EAAME,KAAKD,QACpBrB,eAAgBoB,EAAME,KAAKtB,kBAIS,CAAEU,aAAUd,oBAAiBE,eAAtDqB,CAAmErC","file":"static/js/3.e56bab6b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/essentials_1400x.581f2b62.jpg\";","import React, { Component } from 'react';\nimport ProductTile  from '../../ProductTile/ProductTile'; \nimport { connect } from 'react-redux'; \nimport { openSort, getSortDistance, clearSort } from '../../../actions'; \n\nimport productListHeader from '../../../images/essentials_1400x.jpg'; \n\nclass ProductList extends Component  {\n  constructor() {\n    super();  \n    this.productSortRef = React.createRef(); \n    this.handleSortPosition = this.handleSortPosition.bind(this); \n  }\n\n  componentDidMount () { \n    window.addEventListener(\"scroll\", this.handleSortPosition);\n    let distanceFromTop = this.productSortRef.current.getClientRects()[0].top; \n    this.props.getSortDistance(distanceFromTop); \n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.handleSortPosition);\n    this.props.clearSort(); \n  }\n\n  handleSortPosition () {\n    let distanceFromTop = this.productSortRef.current.getClientRects()[0].top; \n    this.props.getSortDistance(distanceFromTop); \n  }\n\n  renderProducts (currentProducts, sortedProducts) {\n    let productsToRender; \n    if (sortedProducts.length > 0) {\n      productsToRender = sortedProducts; \n    } else {\n      productsToRender = currentProducts; \n    } \n\n    return productsToRender.map(product => {\n      return (                 \n        <ProductTile     \n          key={product.id}               \n          id={product.id}\n          image={product.image}\n          name={product.name}\n          price={product.price}\n        />\n      );\n    }); \n  }\n\n  render() {\n    const { products, openSort, sortedProducts } = this.props; \n  \n    return (\n      <section className=\"ProductList\">\n       \n        <header className=\"ProductList__header\" style={{backgroundImage: `url(${productListHeader})`}}>\n          <h1 className=\"Heading h1\">Products</h1>\n        </header>  \n  \n        <div className=\"ProductList__sort\" ref={this.productSortRef}>\n          <button onClick={() => openSort()} className=\"Heading Text--subdued h6\">\n            Sort\n            <i className=\"fas fa-chevron-down\"/>\n          </button>\n        </div> \n\n        <div className=\"ProductList__collection\">\n          {this.renderProducts(products, sortedProducts)}\n        </div>\n  \n      </section>\n    );\n  }\n  \n}\n\nconst mapStateToProps = (state) => {\n  return {\n    products: state.products, \n    sortTab: state.sort.sortTab, \n    sortedProducts: state.sort.sortedProducts\n  }\n}\n\nexport default connect(mapStateToProps, { openSort, getSortDistance, clearSort })(ProductList);"],"sourceRoot":""}